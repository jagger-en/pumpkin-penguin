import uuid
import sqlalchemy as sa
from .database import db


class MachineAndRegions(db.Model):
    id = db.Column(db.String(36), primary_key=True, default=lambda: str(uuid.uuid4()))

    machine_id = db.Column(db.String(36), db.ForeignKey('machine.id'), nullable=False)
    region_id = db.Column(db.String(36), db.ForeignKey('regions.id'), nullable=False)
    machine = db.relationship('Machine', backref='machine_and_regions')
    region = db.relationship('Regions', backref='machine_and_regions')
